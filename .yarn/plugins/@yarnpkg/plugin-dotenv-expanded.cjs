/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@yarnpkg/plugin-dotenv-expanded",
factory: function (require) {
var plugin=(()=>{var I=Object.create,p=Object.defineProperty;var O=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,P=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var b=(e,n,t)=>n in e?p(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,v=(e,n)=>{for(var t in n||(n={}))w.call(n,t)&&b(e,t,n[t]);if(m)for(var t of m(n))D.call(n,t)&&b(e,t,n[t]);return e};var F=e=>p(e,"__esModule",{value:!0});var d=e=>{if(typeof require!="undefined")return require(e);throw new Error('Dynamic require of "'+e+'" is not supported')};var L=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),W=(e,n)=>{for(var t in n)p(e,t,{get:n[t],enumerable:!0})},q=(e,n,t)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of A(n))!w.call(e,r)&&r!=="default"&&p(e,r,{get:()=>n[r],enumerable:!(t=O(n,r))||t.enumerable});return e},g=e=>q(F(p(e!=null?I(P(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var E=L((Y,h)=>{var Q=d("fs"),y=d("path"),R=d("os");function $(e){console.log(`[dotenv][DEBUG] ${e}`)}var V=`
`,z=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,B=/\\n/g,H=/\r\n|\n|\r/;function N(e,n){let t=Boolean(n&&n.debug),r={};return e.toString().split(H).forEach(function(s,c){let i=s.match(z);if(i!=null){let u=i[1],o=i[2]||"",l=o.length-1,f=o[0]==='"'&&o[l]==='"';o[0]==="'"&&o[l]==="'"||f?(o=o.substring(1,l),f&&(o=o.replace(B,V))):o=o.trim(),r[u]=o}else t&&$(`did not match key and value when parsing line ${c+1}: ${s}`)}),r}function K(e){return e[0]==="~"?y.join(R.homedir(),e.slice(1)):e}function T(e){let n=y.resolve(process.cwd(),".env"),t="utf8",r=!1;e&&(e.path!=null&&(n=K(e.path)),e.encoding!=null&&(t=e.encoding),e.debug!=null&&(r=!0));try{let s=N(Q.readFileSync(n,{encoding:t}),{debug:r});return Object.keys(s).forEach(function(c){Object.prototype.hasOwnProperty.call(process.env,c)?r&&$(`"${c}" is already defined in \`process.env\` and will not be overwritten`):process.env[c]=s[c]}),{parsed:s}}catch(s){return{error:s}}}h.exports.config=T;h.exports.parse=N});var G={};W(G,{default:()=>k,plugin:()=>j});var _=g(E()),x=g(d("fs")),a=g(d("path")),S=function(e,n,t){return(n.match(/(.?\${?(?:[a-zA-Z0-9_]+)?}?)/g)||[]).reduce(function(s,c){let i=/(.?)\${?([a-zA-Z0-9_]+)?}?/g.exec(c),u=i[1],o,l;if(u==="\\")l=i[0],o=l.replace("\\$","$");else{var f=i[2];l=i[0].substring(u.length),o=t.hasOwnProperty(f)?t[f]:e[f]||"",o=S(e,o,s)}return s.replace(l,o)},n)},Z=(e,n)=>{let t=v({},e.parsed);for(let r in e.parsed){let s=n.hasOwnProperty(r)?n[r]:e.parsed[r];t[r]=S(e,s,n)}return t},j={hooks:{async setupScriptEnvironment(e,n){var u;let t=n.NODE_ENV||"development",r=[],s=(0,a.resolve)(e.cwd),c=(u=(0,a.resolve)(n.INIT_CWD))!=null?u:process.cwd(),{root:i}=(0,a.parse)(c);do{for(let o of["",`.${t}`,".local"]){let l=(0,a.join)(c,`.env${o}`);(0,x.existsSync)(l)&&r.push(l)}c=(0,a.dirname)(c)}while(c!==(0,a.dirname)(s)&&c!==i);for(let o of r.reverse()){let l=Z((0,_.config)({path:o}),n);Object.assign(n,l)}}}},k=j;return G;})();
return plugin;
}
};
